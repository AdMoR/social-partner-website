@(
    user: models.user.User,
    model: String,
    modelPlural: String,
    icon: String,
    cols: Seq[(String, String)],
    rows: Seq[Html],
    totalCount: Option[Int],
    newUrl: Option[Call],
    nextUrl: Call,
    limit: Int = 100,
    offset: Int = 0,
    section: String = "explore",
    showSearch: Boolean = false,
    q: Option[String] = None
)(implicit request: Request[AnyContent], session: Session, flash: Flash)
@layout.admin(user, section, s"$model Management") {
  <div class="collection with-header">
    <div class="collection-header">
      @if(showSearch) {
        <div class="right">
          <form action="" method="get">
            <input type="text" name="q" placeholder="Search @modelPlural" value="@q.getOrElse("")" />
          </form>
        </div>
      }
      <h5>
        <i class="fa @icon" style="margin-right: 6px;"></i>
        @{modelPlural}
        @q.map { query =>
          @if(query.trim.nonEmpty) {
            matching [@query]
          }
        }
      </h5>
      @if(offset > 0) {
        <em>Page @((offset / limit) + 1) </em>
      }
      @newUrl.map { nu =>
        (<a class="theme-text" href="@nu">add new</a>)
      }
    </div>
    <div class="collection-item">
      <table>
        <thead>
          @cols.map { col =>
            <th>@col._2</th>
          }
        </thead>
        <tbody>
          @rows.map { row =>
            @row
          }
          @if(rows.isEmpty) {
            <th colspan="@cols.length">
              The system isn't managing any @{modelPlural.toLowerCase}.
            </th>
          }

        </tbody>
      </table>
    </div>
  </div>
  @if(rows.size >= limit) {
    <div  style="text-align: center;"><a href="@nextUrl" class="theme-text">Next Page</a></div>
  }
}
